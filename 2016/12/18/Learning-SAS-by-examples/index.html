<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Learning SAS by Examples | Gao Fangshu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="When learning SAS programming, only reading basic SAS introductions can be a comfortable way but not efficient one. Struggling with these questions given by my professor takes much time, but it’s wort">
<meta property="og:type" content="article">
<meta property="og:title" content="Learning SAS by Examples">
<meta property="og:url" content="http://gaofangshu.com/blog/2016/12/18/Learning-SAS-by-examples/index.html">
<meta property="og:site_name" content="Gao Fangshu">
<meta property="og:description" content="When learning SAS programming, only reading basic SAS introductions can be a comfortable way but not efficient one. Struggling with these questions given by my professor takes much time, but it’s wort">
<meta property="og:updated_time" content="2017-03-28T10:19:37.011Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Learning SAS by Examples">
<meta name="twitter:description" content="When learning SAS programming, only reading basic SAS introductions can be a comfortable way but not efficient one. Struggling with these questions given by my professor takes much time, but it’s wort">
  
  
    <link rel="icon" href="favicon.ico">
  
  <link href="//fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/blog/css/style.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  
</head>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Gao Fangshu</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/blog/" id="subtitle">It is our choices that show what we truly are.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-home-icon" class="nav-icon" href="/blog/"></a>
        
          <a id="nav-tags-icon" class="nav-icon" href="/blog/tags"></a>
        
          <a id="nav-archives-icon" class="nav-icon" href="/blog/archives"></a>
        
          <a id="nav-about-icon" class="nav-icon" href="/blog/about"></a>
        
        
      </nav>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Learning-SAS-by-examples" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Learning SAS by Examples
    </h1>
  

      </header>
    
    <time class="article-date" datetime="2016-12-18T08:59:32.000Z" itemprop="datePublished">12-18-2016</time>
    
  </div>
  <div class="article-inner">
    <div class="article-entry" itemprop="articleBody">
      
        <p>When learning SAS programming, only reading basic SAS introductions can be a comfortable way but not efficient one. Struggling with these questions given by my professor takes much time, but it’s worth it!</p>
<hr>
<p><em>Every question begins with the sentence:<br>Using table SASHELP.CLASS write a code that …</em></p>
<a id="more"></a>
<h2 id="Data-processing-in-SAS"><a href="#Data-processing-in-SAS" class="headerlink" title="Data processing in SAS:"></a>Data processing in SAS:</h2><ol>
<li><p>creates a library engine v9 pointing to directory c:\ sas \</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">libname libdata v9 'c:<span class="symbol">\s</span>as<span class="symbol">\'</span>;</div></pre></td></tr></table></figure>
<p><code>libdata</code> is name of library.</p>
</li>
<li><p>creates a library engine v8 pointing to directory c:\ sas \</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">libname libdata v8 'c:<span class="symbol">\s</span>as<span class="symbol">\'</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a library engine odbc indicating the ODBC driver called CRM</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">libname <span class="keyword">odbc</span> <span class="keyword">odbc</span> datasrc='CRM';</div><div class="line">libname libdata <span class="keyword">odbc</span> dsn='CRM'; <span class="comment">/*Solution*/</span></div></pre></td></tr></table></figure>
</li>
<li><p>reads it using a SET instruction in a single datastep pass</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data result;</div><div class="line">    <span class="keyword">do</span> i=<span class="number">1</span> <span class="keyword">to</span> nobs;</div><div class="line">        <span class="keyword">set</span> sashelp.class nobs=nobs;</div><div class="line">        output;</div><div class="line">    <span class="keyword">end</span>;</div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>reads it and creates table RESULT with a new variable called TWO, which contains the first two letters of the name</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    TWO=substr(<span class="built_in">name</span>,<span class="number">1</span>,<span class="number">2</span>);</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>selects the rows with age greater than 12 years</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    <span class="keyword">if</span> (age&gt;<span class="number">12</span>) <span class="keyword">then</span> output;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc print;</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    <span class="keyword">where</span> age&gt;<span class="number">12</span>;</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
<p><code>where</code> is faster than <code>if</code>.</p>
</li>
<li><p>selects the rows with names starting with the letter A</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    <span class="keyword">if</span> (substr(<span class="built_in">name</span>,<span class="number">1</span>,<span class="number">1</span>)='A') <span class="keyword">then</span> output;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc print;</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    <span class="keyword">where</span> upcase(<span class="built_in">name</span>) like 'A%';</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
<p><code>where</code> is faster than <code>if</code>.</p>
</li>
<li><p>creates a new column DATE_OF_BIRTH on the basis of age and today’s date in the system</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">data result<span class="comment">;</span></div><div class="line">    set sashelp.class<span class="comment">;</span></div><div class="line">    today=date()<span class="comment">;</span></div><div class="line">    format today yymmdd10.<span class="comment">;</span></div><div class="line">    DATE_OF_BIRTH = intnx(<span class="string">'Year'</span>,today,-age,<span class="string">'s'</span>)<span class="comment">;</span></div><div class="line">    format DATE_OF_BIRTH yymmdd10.<span class="comment">;</span></div><div class="line">    drop today<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc print<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data result;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="keyword">class</span>;</div><div class="line">    DATE_OF_BIRTH1=today()-age*365; <span class="comment">/*Not accurate*/</span></div><div class="line">    DATE_OF_BIRTH2=<span class="built_in">mdy</span>(<span class="built_in">month</span>(today()),<span class="built_in">day</span>(today()),<span class="built_in">year</span>(today()-age));</div><div class="line">    <span class="keyword">format</span> DATE_OF_BIRTH: yymmdd10.;</div><div class="line"><span class="keyword">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a new column and counts number of letters in the name</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    num_name = <span class="built_in">length</span>(<span class="built_in">name</span>);</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc print;</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a new column: binary flag with 1 when the name contains letter a</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    <span class="keyword">if</span> (indexc(<span class="built_in">name</span>,'a','A')&gt;<span class="number">0</span>) <span class="keyword">then</span> name_flag = <span class="number">1</span>;</div><div class="line">        <span class="keyword">else</span> name_flag = <span class="number">0</span>;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc print;</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a new column concatenating: name, age and gender, for example. Alfred-14-M</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    n_a_g=catx(<span class="string">"-"</span>,<span class="built_in">name</span>,age,sex);</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc print;</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="built_in">length</span> longtext1 longtext2 $<span class="number">20</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    longtext1=trim(<span class="built_in">name</span>)||'-'||trim(<span class="keyword">put</span>(age,best12.-L))||'-'||trim(sex);</div><div class="line">    longtext2=catx(<span class="string">"-"</span>,<span class="built_in">name</span>,<span class="keyword">put</span>(age,best12.-L),sex);</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>randomly multiplies each observation from 1 to 10 times</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">data result<span class="comment">;</span></div><div class="line">    set sashelp.class<span class="comment">;</span></div><div class="line">    do i=<span class="number">1</span> to int(ranuni(<span class="number">0</span>)*<span class="number">10</span>+<span class="number">1</span>)<span class="comment">;</span></div><div class="line">        output<span class="comment">;</span></div><div class="line">    end<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc print<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">libname v9 'c:\sas\';</div><div class="line">data v9.RESULT;</div><div class="line">    set sashelp.class;</div><div class="line">    <span class="keyword">do</span> i=<span class="number">1</span> to <span class="number">10</span>*ranuni(<span class="number">1</span>)+<span class="number">0.5</span>;</div><div class="line">        <span class="keyword">output</span>;</div><div class="line">    <span class="keyword">end</span>;</div><div class="line"><span class="keyword">run</span>;</div><div class="line"><span class="function"><span class="keyword">proc</span> <span class="title">print</span></span>;</div><div class="line"><span class="keyword">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a RESULT table containing every second observation</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    <span class="keyword">if</span> <span class="keyword">mod</span>(_n_,<span class="number">2</span>)=<span class="number">0</span> <span class="keyword">then</span> output;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc print;</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>sorts it by sex increasingly and age decreasingly</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">data result<span class="comment">;</span></div><div class="line">    set sashelp.class<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc sort<span class="comment">;</span></div><div class="line">    <span class="keyword">by </span>sex descending age<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc print<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">proc <span class="keyword">sort</span> data=sashelp.<span class="keyword">class</span> <span class="keyword">out</span>=result;</div><div class="line">    <span class="keyword">by</span> sex descending age;</div><div class="line"><span class="keyword">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>based on the processing in groups mechanism calculates the number of women and men</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*Solution 1*/</span></div><div class="line">data a<span class="comment">;</span></div><div class="line">    set sashelp.class<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc sort data=a out=<span class="keyword">b;</span></div><div class="line">    <span class="keyword">by </span>sex<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">data result(keep = sex <span class="built_in">count</span>)<span class="comment">;</span></div><div class="line">    set <span class="keyword">b;</span></div><div class="line">    <span class="keyword">by </span>sex<span class="comment">;</span></div><div class="line">    if first.sex then <span class="built_in">count</span>=<span class="number">0</span><span class="comment">;</span></div><div class="line">    <span class="built_in">count</span>+<span class="number">1</span><span class="comment">;</span></div><div class="line">    if last.sex then output<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc print data=result<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*Solution 2*/</span></div><div class="line">data result<span class="comment">;</span></div><div class="line">    set sashelp.class<span class="comment">;</span></div><div class="line">proc freq<span class="comment">;</span></div><div class="line">    tables sex<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>based on the processing in groups mechanism calculates minimum and maximum age for each gender</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc sort data=a out=b;</div><div class="line">    <span class="keyword">by</span> sex descending age;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">data <span class="literal">result</span> (keep = sex age);</div><div class="line">    <span class="keyword">set</span> b;</div><div class="line">    <span class="keyword">by</span> sex;</div><div class="line">    <span class="keyword">if</span> <span class="keyword">first</span>.sex <span class="keyword">then</span> output;</div><div class="line">    <span class="keyword">if</span> <span class="keyword">last</span>.sex <span class="keyword">then</span> output;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc print data=<span class="literal">result</span>;</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>based on the processing in groups mechanism calculates average for each gender</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">data a<span class="comment">;</span></div><div class="line">    set sashelp.class<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc sort data=a out=<span class="keyword">b;</span></div><div class="line">    <span class="keyword">by </span>sex<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc means data=<span class="keyword">b;</span></div><div class="line">    var age<span class="comment">;</span></div><div class="line">    <span class="keyword">by </span>sex<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>using table SASHELP.AIR calculates the cumulative number of thousands of passengers, date by date - ascending, based on column AIR</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">data a<span class="comment">;</span></div><div class="line">    set sashelp.air<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc sort<span class="comment">;</span></div><div class="line">    <span class="keyword">by </span>DATE<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">data result<span class="comment">;</span></div><div class="line">    set a<span class="comment">;</span></div><div class="line">    if first.date then cum_air=<span class="number">0</span><span class="comment">;</span></div><div class="line">    cum_air+AIR<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc print data=result<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>using LAG function crates table RESULT containing only these rows for which the previous line was a woman</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">data result;</div><div class="line">    set sashelp.class;</div><div class="line">    <span class="built_in">lag</span>=<span class="built_in">lag1</span>(sex);</div><div class="line">    <span class="keyword">if</span> <span class="built_in">lag</span>='F' then <span class="keyword">output</span>;</div><div class="line"><span class="keyword">run</span>;</div><div class="line"><span class="function"><span class="keyword">proc</span> <span class="title">print</span> <span class="title">data</span>=<span class="title">result</span></span>;</div><div class="line">    <span class="built_in">title</span> 'RESULT';</div><div class="line"><span class="keyword">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a new column as the sum of the ages of the previous two lines</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">data result<span class="comment">;</span></div><div class="line">    set sashelp.class<span class="comment">;</span></div><div class="line">    lag_1=lag1(age)<span class="comment">;</span></div><div class="line">    lag_2=lag2(age)<span class="comment">;</span></div><div class="line">    pre_2_age=lag_1+lag_2<span class="comment">; /*sum of the ages of the previous two lines*/</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc print data=result<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    last2age=sum(age,lag(age));</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates table RESULT containing only observations with numbers from 5 to 7</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>(firstobs=<span class="number">5</span> obs=<span class="number">7</span>);</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc print data=<span class="literal">result</span>;</div><div class="line">    title 'RESULT';</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates table RESULT containing only the first observation</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    <span class="keyword">if</span> _N_=<span class="number">1</span> <span class="keyword">then</span> output;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc print data=<span class="literal">result</span>;</div><div class="line">    title 'RESULT';</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates table RESULT containing only the last observation</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/*Solution <span class="number">1</span>*/</div><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span> <span class="keyword">end</span>=<span class="keyword">end</span>;</div><div class="line">    <span class="keyword">if</span> <span class="keyword">end</span> <span class="keyword">then</span> output;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc print data=<span class="literal">result</span>;</div><div class="line">    title 'RESULT';</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/*Solution <span class="number">2</span>*/</div><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span> nobs=nobs;</div><div class="line">    <span class="keyword">if</span> _N_=nobs <span class="keyword">then</span> output;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">proc print data=<span class="literal">result</span>;</div><div class="line">    title 'RESULT';</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates new variables age1 to age20 and fills them the following way: eg. for age equal to 10 column age10 has a value of 1 and the other ones have 0</p>
<p><em>Refer to <a href="http://www.ats.ucla.edu/stat/sas/faq/dumvars.htm" target="_blank" rel="external">Is there a quick way to create dummy variables?</a></em></p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*Solution 1*/</span></div><div class="line">data result;</div><div class="line">    set sashelp.class;</div><div class="line">    <span class="keyword">if</span> <span class="attr">age=1</span> <span class="keyword">then</span> <span class="attr">age1=1;</span></div><div class="line">        <span class="keyword">else</span> <span class="attr">age1=0;</span></div><div class="line">    <span class="comment">/* . . . */</span></div><div class="line">    <span class="comment">/*use lots of 'if then else' statements*/</span></div><div class="line">    <span class="comment">/* . . . */</span></div><div class="line">    <span class="keyword">if</span> <span class="attr">age=20</span> <span class="keyword">then</span> <span class="attr">age20=1;</span></div><div class="line">        <span class="keyword">else</span> <span class="attr">age20=0;</span></div><div class="line">run;</div><div class="line">proc print <span class="attr">data=result;</span></div><div class="line">run;</div></pre></td></tr></table></figure>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*Solution 2*/</span></div><div class="line">data result<span class="comment">;</span></div><div class="line">    set sashelp.class<span class="comment">;</span></div><div class="line">    array  dummy&#123;*&#125; <span class="number">3</span>. age1 - age20<span class="comment">;</span></div><div class="line">        do i=<span class="number">1</span> to <span class="number">20</span><span class="comment">;</span></div><div class="line">            dummy&#123;i&#125;=<span class="number">0</span><span class="comment">;</span></div><div class="line">        end<span class="comment">;</span></div><div class="line">    dummy&#123;age&#125;=<span class="number">1</span><span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc print data=result<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>using SASHELP.ZHC select only those observations whose PCMS code is in table SASHELP.ZTC</p>
<blockquote>
<p>The data sets that are listed in the MERGE statement must be sorted in order of the values of the variables that are listed in the BY statement, or they must have an appropriate index.</p>
</blockquote>
<p><em><a href="http://www.ats.ucla.edu/stat/sas/modules/merge.htm" target="_blank" rel="external">Match merging data files in SAS</a></em></p>
<blockquote>
<p>When you merge files that have the same variable, SAS will use the values from the file that appears last on the merge statement.</p>
</blockquote>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> sort</span> data=sashelp.zhc<span class="title"> out=zhc;</span></div><div class="line"><span class="title">    by</span> pcms;<span class="title"></span></div><div class="line">run;</div><div class="line"><span class="keyword">proc</span><span class="title"> sort</span> data=sashelp.ztc<span class="title"> out=ztc;</span></div><div class="line"><span class="title">    by</span> pcms;<span class="title"></span></div><div class="line">run;</div><div class="line">data<span class="title"> result;</span></div><div class="line"><span class="title">    merge</span> ztc(in=a)<span class="title"> zhc(in=b);</span></div><div class="line"><span class="title">    by</span> pcms;<span class="title"></span></div><div class="line">    if a&amp;b<span class="title"> then</span> do;</div><div class="line">    /*WARNING:<span class="title"> Apparent</span> symbolic<span class="title"> reference</span> B<span class="title"> not</span> resolved.*/<span class="title"></span></div><div class="line">        keep unicode<span class="title"> ibm</span> pcms;<span class="title"></span></div><div class="line">        output result;<span class="title"></span></div><div class="line">    end;</div><div class="line">run;<span class="title"></span></div><div class="line">proc print<span class="title"> data=result;</span></div><div class="line">run;</div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">proc sql;</div><div class="line">    <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">result</span> <span class="keyword">as</span></div><div class="line">        <span class="keyword">select</span> * <span class="keyword">from</span> sashelp.zhc <span class="keyword">where</span> pcms</div><div class="line">        <span class="keyword">in</span> (<span class="keyword">select</span> <span class="keyword">distinct</span> pcms <span class="keyword">from</span> sashelp.ztc);</div><div class="line">quit;</div></pre></td></tr></table></figure>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> sql</span> noprint;<span class="title"></span></div><div class="line">    select distinct<span class="title"> quote(pcms)</span></div><div class="line"><span class="title">        into</span> :allvalues<span class="title"> separated</span> by ','<span class="title"> from</span> sashelp.ztc;<span class="title"></span></div><div class="line">quit;</div><div class="line">%put &amp;allvalues;<span class="title"></span></div><div class="line">data result;<span class="title"></span></div><div class="line">    set sashelp.zhc;<span class="title"></span></div><div class="line">    where pcms<span class="title"> in</span> (&amp;allvalues);<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">proc sql <span class="keyword">noprint;</span></div><div class="line">    select <span class="keyword">distinct </span>quote(pcms)</div><div class="line">        into :value1-:value99999 from sashelp.ztc<span class="comment">;</span></div><div class="line">quit<span class="comment">;</span></div><div class="line">%let nvalues=&amp;sqlobs<span class="comment">;</span></div><div class="line">%put &amp;nvalues***&amp;value1***&amp;&amp;value&amp;nvalues<span class="comment">;</span></div><div class="line">%macro dodo<span class="comment">;</span></div><div class="line">    data result3<span class="comment">;</span></div><div class="line">        set sashelp.zhc<span class="comment">;</span></div><div class="line">        where pcms in (</div><div class="line">            %do i=<span class="number">1</span> %to &amp;nvalues<span class="comment">;</span></div><div class="line">                &amp;&amp;value&amp;i,</div><div class="line">            %end<span class="comment">;</span></div><div class="line">        )<span class="comment">;</span></div><div class="line">    run<span class="comment">;</span></div><div class="line">%mend<span class="comment">;</span></div><div class="line">%dodo<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>adds column EUC to table SASHELP.ZHC from table SASHELP.ZTC using PCMS as joining key</p>
<p><strong>SASHELP.ZHC merging SASHELP.ZTC is a many-to-many merge?!</strong></p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> sort</span> data=sashelp.zhc<span class="title"> out=zhc;</span></div><div class="line"><span class="title">    by</span> pcms;<span class="title"></span></div><div class="line">run;</div><div class="line">data<span class="title"> ztc0;</span></div><div class="line"><span class="title">    set</span> sashelp.ztc;<span class="title"></span></div><div class="line">    keep pcms<span class="title"> euc;</span></div><div class="line">run;<span class="title"></span></div><div class="line">proc sort<span class="title"> data=ztc0</span> nodup<span class="title"> out=ztc;</span></div><div class="line"><span class="title">    by</span> pcms;<span class="title"></span></div><div class="line">run;</div><div class="line">data<span class="title"> result;</span></div><div class="line"><span class="title">    merge</span> zhc(in=a)<span class="title"> ztc;</span></div><div class="line"><span class="title">    by</span> pcms;<span class="title"></span></div><div class="line">    if a<span class="title"> then</span> output<span class="title"> result;</span></div><div class="line">run;<span class="title"></span></div><div class="line">proc print<span class="title"> data=result;</span></div><div class="line">run;</div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">proc sql;</div><div class="line">    <span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">result</span> <span class="keyword">as</span></div><div class="line">        <span class="keyword">select</span> z1.*,z2.euc <span class="keyword">from</span> sashelp.zhc <span class="keyword">as</span> z1 <span class="keyword">left</span> <span class="keyword">join</span> sashelp.ztc <span class="keyword">as</span> z2</div><div class="line">        <span class="keyword">on</span> z1.pcms=z2.pcms;</div><div class="line">quit;</div></pre></td></tr></table></figure>
</li>
<li><p>tests joining tables SASHELP.ZHC and SASHELP.ZTC by PCMS, how many observations joined, how many are not joined in first and second tables</p>
<p><em>Refer to <a href="http://www.lexjansen.com/nesug/nesug08/ff/ff03.pdf" target="_blank" rel="external">Using DATA Step MERGE and PROC SQL JOIN to Combine SAS Datasets</a></em></p>
<p>Solution:</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> sort</span> data=sashelp.zhc<span class="title"> out=zhc;</span></div><div class="line"><span class="title">    by</span> pcms;<span class="title"></span></div><div class="line">proc sort<span class="title"> data=sashelp.ztc</span> out=ztc;<span class="title"></span></div><div class="line">    by pcms;<span class="title"></span></div><div class="line">run;</div><div class="line">data<span class="title"> joined</span> left<span class="title"> right;</span></div><div class="line"><span class="title">    merge</span> zhc(in=z1)<span class="title"> ztc(in=z2);</span></div><div class="line"><span class="title">    by</span> pcms;<span class="title"></span></div><div class="line">    if z1<span class="title"> and</span> z2<span class="title"> then</span> output<span class="title"> joined;</span></div><div class="line"><span class="title">    if</span> z1<span class="title"> and</span> not<span class="title"> z2</span> then<span class="title"> output</span> left;<span class="title"></span></div><div class="line">    if not<span class="title"> z1</span> and<span class="title"> z2</span> then<span class="title"> output</span> right;<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>creates table RESULT containing columns from age11 to age16 and name. For example, if a student is 11 years old the variable age11 contains the student’s gender and the remaining variables are empty</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">data result(keep=name age11-age16)<span class="comment">;</span></div><div class="line">    set sashelp.class<span class="comment">;</span></div><div class="line">    array dummy&#123;*&#125; $ age11 - age16<span class="comment">;</span></div><div class="line">    do i=<span class="number">1</span> to <span class="number">6</span><span class="comment">;</span></div><div class="line">        dummy&#123;i&#125;=<span class="string">' '</span><span class="comment">;</span></div><div class="line">    end<span class="comment">;</span></div><div class="line">    dummy&#123;age-10&#125;=sex<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc print data=v9.RESULT<span class="comment">;</span></div><div class="line">    title <span class="string">'RESULT'</span><span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data result;</div><div class="line">    length age11-age16 $1;</div><div class="line">   <span class="built_in"> array </span>ages(11:16)$ age11-age16;</div><div class="line">    set sashelp.class;</div><div class="line">    ages(age)=sex;</div><div class="line">run;</div></pre></td></tr></table></figure>
<p><code>$</code>organize the array of text variables.</p>
</li>
<li><p>using table SASHELP.CARS creates table RESULT containing information about car models in multiple lines. For a given model, in rows, there are two additional columns named PROPERTY and VALUE. In the first column there is the name of the column from original table and its value in the second one.</p>
<p>Solution:</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> sort</span> data=sashelp.cars<span class="title"> out=cars;</span></div><div class="line"><span class="title">    by</span> Model;<span class="title"></span></div><div class="line">run;</div><div class="line"><span class="keyword">proc</span><span class="title"> transpose</span> data=cars<span class="title"></span></div><div class="line">    out=result</div><div class="line">        (rename=(_name_=property<span class="title"> coll=value)</span> drop=col2<span class="title"> _label_);</span></div><div class="line"><span class="title">    by</span> model;<span class="title"></span></div><div class="line">    var type--Length;<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>counts the Levenshtein distance between the name and the word Alfred</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    Levenshtein=complev(<span class="built_in">name</span>,'Alfred');</div><div class="line"><span class="built_in">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates 19 tables from name1 to name19, each with one observation, the first with the first observation of the input table, and the last with the last</p>
<p><em>Refer to <a href="http://www2.sas.com/proceedings/sugi29/243-29.pdf" target="_blank" rel="external">SAS · Macro Programming for Beginners</a></em></p>
<p>Solution:</p>
<figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="xml"></span><span class="perl">%macro createtables;</span><span class="xml"></span></div><div class="line"><span class="perl">%do i=<span class="number">1</span> %to <span class="number">19</span>;</span><span class="xml"></span></div><div class="line">    data name&amp;i;</div><div class="line">    set sashelp.class(firstobs=&amp;i obs=&amp;i);</div><div class="line">    run;</div><div class="line"><span class="perl">%end;</span><span class="xml"></span></div><div class="line"><span class="perl">%mend;</span><span class="xml"></span></div><div class="line"><span class="perl">%createtables;</span><span class="xml"></span></div></pre></td></tr></table></figure>
</li>
<li><p>creates table RESULT containing observations repeated as many times as is the value of the variable age</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data result;</div><div class="line">    <span class="keyword">set</span> sashelp.class;</div><div class="line">    <span class="keyword">do</span> i=<span class="number">1</span> <span class="keyword">to</span> age;</div><div class="line">        output;</div><div class="line">    <span class="keyword">end</span>;</div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a two-dimensional array in the IML taking the first two observations and columns age and weight and calculates its determinant</p>
<figure class="highlight nimrod"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span> iml;</div><div class="line">    use sashelp.class;</div><div class="line">    <span class="built_in">array</span>=<span class="meta">&#123;. ., . .&#125;</span>;</div><div class="line">    read point&#123;<span class="number">1</span> <span class="number">2</span>&#125; <span class="keyword">var</span> &#123;age weight&#125; into <span class="built_in">array</span>;</div><div class="line">    determinant=det(<span class="built_in">array</span>);</div><div class="line">    print <span class="built_in">array</span> determinant;</div><div class="line">quit;</div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">proc iml<span class="comment">;</span></div><div class="line">    use sashelp.class(obs=<span class="number">2</span>)<span class="comment">;</span></div><div class="line">    read all var &#123;age weight&#125; into A<span class="comment">;</span></div><div class="line">    print A<span class="comment">;</span></div><div class="line">    detA = det(A)<span class="comment">;</span></div><div class="line">    print detA<span class="comment">;</span></div><div class="line">quit<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Reporting-in-SAS"><a href="#Reporting-in-SAS" class="headerlink" title="Reporting in SAS:"></a>Reporting in SAS:</h2><ol>
<li><p>creates a format for age group: up to 13 years included and above, using the MEANS procedure determine the number of students and the average values of age</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">data a<span class="comment">;</span></div><div class="line">    set sashelp.class<span class="comment">;</span></div><div class="line">    if age&gt;=<span class="number">13</span> then output<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc means data=a<span class="comment">;</span></div><div class="line">    var age<span class="comment">;</span></div><div class="line">    class age<span class="comment">;</span></div><div class="line">    types () age<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>creates a two-dimensional table containing frequencies of age and sex</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> freq</span> data=sashelp.class;<span class="title"></span></div><div class="line">    table age*sex /NOPERCENT<span class="title"> NOROW</span> NOCOL;<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a table containing absolute and relative frequencies for age, includes cumulated values for both</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">proc freq data=sashelp.class<span class="comment">;</span></div><div class="line">    table age<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">proc freq data=sashelp.<span class="keyword">class</span> noprint;</div><div class="line">    <span class="keyword">table</span> age /outcum <span class="keyword">out</span>=<span class="keyword">table</span> missing;</div><div class="line"><span class="keyword">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates an HTML report with a table with names on the left hand side and headings of sex; the table should be filled with total values of age</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">data <span class="literal">result</span>;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    <span class="keyword">if</span> sex='M' <span class="keyword">then</span> M=age;</div><div class="line">    <span class="keyword">if</span> sex='F' <span class="keyword">then</span> F=age;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">ods html body='<span class="literal">result</span>.htm';</div><div class="line">proc print data=<span class="literal">result</span>(keep=<span class="built_in">name</span> M F);</div><div class="line">    ID <span class="built_in">name</span>;</div><div class="line"><span class="built_in">run</span>;</div><div class="line">ods html close;</div></pre></td></tr></table></figure>
<p>Another solution:</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">%let dir=C:\GaoFangshu\SGH\SAS\;</div><div class="line">ods listing <span class="keyword">close</span>;</div><div class="line">ods html path=<span class="string">"&amp;dir"</span> body=<span class="string">"report.html"</span> style=statistical;</div><div class="line">title <span class="string">"Class report"</span>;</div><div class="line">options missing=<span class="string">' '</span>;</div><div class="line"><span class="keyword">proc</span><span class="title"> tabulate</span> data=sashelp.class;<span class="title"></span></div><div class="line">    class name<span class="title"> sex;</span></div><div class="line"><span class="title">    var</span> age;<span class="title"></span></div><div class="line">    table name=''<span class="title"> all,</span> (sex=''<span class="title"> all)*mean=''*age=''*f=12.</span></div><div class="line">    /<span class="title"> box='Average</span> age /<span class="title"> Gender';</span></div><div class="line">run;<span class="title"></span></div><div class="line">ods html<span class="title"> close;</span></div><div class="line">ods<span class="title"> listing;</span></div></pre></td></tr></table></figure>
</li>
<li><p>creates a report in PDF based on SASHELP.PRDSALE containing information about the current total sales with percentages by years and regions, adds summaries</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> sort</span> data=sashelp.prdsale<span class="title"> out=sort;</span></div><div class="line"><span class="title">    by</span> year<span class="title"> region;</span></div><div class="line">run;<span class="title"></span></div><div class="line">proc summary<span class="title"> data=sashelp.prdsale;</span></div><div class="line"><span class="title">    freq</span> actual;<span class="title"></span></div><div class="line">    var actual;<span class="title"></span></div><div class="line">    class year<span class="title"> region;</span></div><div class="line"><span class="title">    types</span> ()<span class="title"> year</span> region<span class="title"> year*region;</span></div><div class="line"><span class="title">    output</span> out=out<span class="title"> n=n;</span></div><div class="line">run;<span class="title"></span></div><div class="line">data result;<span class="title"></span></div><div class="line">    set out;<span class="title"></span></div><div class="line">    if _type_=0<span class="title"> then</span> total=_freq_;<span class="title"></span></div><div class="line">        else total=first.total;<span class="title"></span></div><div class="line">run;</div><div class="line"><span class="keyword">proc</span><span class="title"> print</span> data=result(drop=_type_<span class="title"> _freq_);</span></div><div class="line">run;</div></pre></td></tr></table></figure>
<p>Solution:</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">%let dir=C:\GaoFangshu\SGH\SAS\;</div><div class="line">ods listing <span class="keyword">close</span>;</div><div class="line">ods pdf <span class="keyword">file</span>=<span class="string">"&amp;dir.report.pdf"</span>;</div><div class="line">title <span class="string">'Sale report'</span>;</div><div class="line">options missing=<span class="string">' '</span>;</div><div class="line"><span class="keyword">proc</span><span class="title"> tabulate</span> data=sashelp.prdsale;<span class="title"></span></div><div class="line">    class year<span class="title"> region;</span></div><div class="line"><span class="title">    var</span> actual;<span class="title"></span></div><div class="line">    table region=''<span class="title"> all,</span> (year=''<span class="title"> all)*(sum='Sum'</span> rowpctsum='Pct')*actual=''*f=12.1</div><div class="line">    /<span class="title"> box='Region</span> /<span class="title"> Year';</span></div><div class="line">run;<span class="title"></span></div><div class="line">ods pdf<span class="title"> close;</span></div><div class="line">ods<span class="title"> listing;</span></div></pre></td></tr></table></figure>
</li>
<li><p>creates a serial report for each region, i.e. creates as many HTML reports, as there are regions and every of these reports contains total sales divided by years and products; adds summaries</p>
<p>Solution:</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> sql</span> noprint;<span class="title"></span></div><div class="line">    select distinct<span class="title"> region</span> into :reg1-:reg99999<span class="title"> from</span> sashelp.prdsale;<span class="title"></span></div><div class="line">quit;</div><div class="line">%let<span class="title"> n_reg=&amp;sqlobs;</span></div><div class="line">%put &amp;n_reg***&amp;reg1***&amp;&amp;reg&amp;n_reg;</div><div class="line">%macro<span class="title"> doreports;</span></div><div class="line">    %let<span class="title"> dir=C:\GaoFangshu\SGH\SAS\;</span></div><div class="line">    %do<span class="title"> i=1</span> %to &amp;n_reg;</div><div class="line">        %let<span class="title"> region=&amp;&amp;reg&amp;i;</span></div><div class="line"><span class="title">        ods</span> listing<span class="title"> close;</span></div><div class="line"><span class="title">        ods</span> html<span class="title"> path="&amp;dir"</span> body="report_&amp;region..html"<span class="title"> style=statistical;</span></div><div class="line"><span class="title">        title</span> "Sales<span class="title"> report</span> in &amp;region";<span class="title"></span></div><div class="line">        options missing=' ';<span class="title"></span></div><div class="line">        proc tabulate<span class="title"> data=sashelp.prdsale;</span></div><div class="line"><span class="title">            class</span> year<span class="title"> product;</span></div><div class="line"><span class="title">            var</span> actual;<span class="title"></span></div><div class="line">            table product=''<span class="title"> all,</span> (year=''<span class="title"> all)*sum=''*actual=''*f=12.1</span></div><div class="line">            /<span class="title"> box='Product</span> /<span class="title"> Year';</span></div><div class="line"><span class="title">            where</span> region="&amp;region";<span class="title"></span></div><div class="line">        run;</div><div class="line"><span class="title">        ods</span> html<span class="title"> close;</span></div><div class="line"><span class="title">        ods</span> listing;</div><div class="line">    %end;</div><div class="line">%mend;</div><div class="line">%doreports;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a list macrovariables name1 to name19 inserting names of the students in alphabetical order</p>
<p>Solution:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">proc sql noprint;</div><div class="line">    select <span class="built_in">name</span> <span class="keyword">into</span> :name1-:name19 <span class="keyword">from</span> sashelp.<span class="built_in">class</span></div><div class="line">    order <span class="keyword">by</span> <span class="built_in">name</span>;</div><div class="line">quit;</div><div class="line">%<span class="keyword">put</span> &amp;name1***&amp;name2***&amp;name19;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a list macrovariables with names of students inserting each student’s sex after his/her name</p>
<p>Solution:</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">data _null_;</div><div class="line">    <span class="keyword">set</span> sashelp.<span class="built_in">class</span>;</div><div class="line">    call symput(<span class="built_in">name</span>,trim(sex));</div><div class="line"><span class="built_in">run</span>;</div><div class="line">%<span class="keyword">put</span> &amp;Alfred***&amp;Alice***&amp;William;</div></pre></td></tr></table></figure>
<p>Three kinds of macrovariable: <code>%let</code>, <code>select ... into :...</code>, <code>call symput()</code></p>
</li>
<li><p>creates one long macrovariable with list of names of students in alphabetical order, separated with a #</p>
<p>Solution:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">proc sql noprint;</div><div class="line">    <span class="keyword">select</span> <span class="keyword">distinct</span> <span class="keyword">name</span> <span class="keyword">into</span> :<span class="keyword">names</span> separated <span class="keyword">by</span> <span class="string">'#'</span> <span class="keyword">from</span> sashelp.class</div><div class="line">    <span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">name</span>;</div><div class="line">quit;</div><div class="line">%put &amp;names;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a macro program with parameter sex which lists (PROC PRINT) observations for the selected gender</p>
<p>Solution:</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">%<span class="selector-tag">macro</span></span> report(gender);</div><div class="line">    title "Report for &amp;gender";</div><div class="line">    proc print data=sashelp.class;</div><div class="line">        where sex='&amp;gender';</div><div class="line">    run;</div><div class="line"><span class="tag">%<span class="selector-tag">mend</span></span>;</div><div class="line"><span class="tag">%<span class="selector-tag">report</span>(F)</span>;</div><div class="line"><span class="tag">%<span class="selector-tag">report</span>(M)</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a bar graph of the average age for sex</p>
<p>Solution:</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> gchart</span> data=sashelp.class;<span class="title"></span></div><div class="line">    vbar3d sex /<span class="title"> sumvar=age</span> type=mean;<span class="title"></span></div><div class="line">run;</div><div class="line">quit;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a line graph of the time series containing number of passengers AIR from the set SASHELP.AIR</p>
<p>Solution:</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">symbol i=<span class="keyword">join </span>v=star<span class="comment">;</span></div><div class="line">proc gplot data=sashelp.air<span class="comment">;</span></div><div class="line">    plot air*date<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">quit<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>calculates percentiles for age: 5, 25, 50, 75 and 95</p>
<p><em>Refer to <a href="http://www.ats.ucla.edu/stat/sas/faq/percentiles.htm" target="_blank" rel="external">How do I obtain percentiles not automatically calculated?</a></em></p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> univariate</span> data=sashelp.class;<span class="title"></span></div><div class="line">    var age;<span class="title"></span></div><div class="line">    output pctlpre=P_<span class="title"> pctlpts=</span> 5, 25<span class="title"> to</span> 75<span class="title"> by</span> 25, 95<span class="title"> out=result;</span></div><div class="line">run;<span class="title"></span></div><div class="line">proc print<span class="title"> data=result;</span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates standard deviation, average and the inter-quartile range</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">proc univariate data=sashelp.class<span class="comment">;</span></div><div class="line">    var age<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>exports numbers 3,4,5 to EXCEL cells A1, A2 and A3</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">options noxwait noxsync<span class="comment">;</span></div><div class="line">filename sas2xl dde <span class="string">'excel|system'</span><span class="comment">;</span></div><div class="line">data _null_<span class="comment">;</span></div><div class="line">    length fid rc start stop time <span class="number">8</span><span class="comment">;</span></div><div class="line">    fid=fopen(<span class="string">'sas2xl'</span>,<span class="string">'s'</span>)<span class="comment">;</span></div><div class="line">    if (fid le <span class="number">0</span>) then do<span class="comment">;</span></div><div class="line">        rc=system(<span class="string">'start excel'</span>)<span class="comment">;</span></div><div class="line">        start=datetime()<span class="comment">;</span></div><div class="line">        stop=start+<span class="number">10</span><span class="comment">;</span></div><div class="line">        do while (fid le <span class="number">0</span>)<span class="comment">;</span></div><div class="line">            fid=fopen(<span class="string">'sas2xl'</span>,<span class="string">'s'</span>)<span class="comment">;</span></div><div class="line">            time=datetime()<span class="comment">;</span></div><div class="line">            if (time ge stop) then fid=<span class="number">1</span><span class="comment">;</span></div><div class="line">        end<span class="comment">;</span></div><div class="line">    end<span class="comment">;</span></div><div class="line">    rc=fclose(fid)<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">data w<span class="comment">;</span></div><div class="line">    filename ddedata dde</div><div class="line">    <span class="comment">/*	'excel|Sheet1!w1k1:w3k1';  */</span></div><div class="line">    <span class="string">'excel|input!r4c2:r6c2'</span><span class="comment">;</span></div><div class="line">    file ddedata<span class="comment">;</span></div><div class="line">    x=sleep(<span class="number">2</span>)<span class="comment">;</span></div><div class="line">    format i numx10.<span class="number">2</span><span class="comment">;</span></div><div class="line">    do i=<span class="number">3</span> to <span class="number">5</span><span class="comment">;</span></div><div class="line">        put i<span class="comment">;</span></div><div class="line">    end<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>creates a data set containing file names from the directory c: \</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">filename cf pipe <span class="string">'dir c:\ /w /a:-d /b'</span><span class="comment">;</span></div><div class="line">data result<span class="comment">;</span></div><div class="line">    infile cf<span class="comment">;</span></div><div class="line">    input<span class="comment">;</span></div><div class="line">    <span class="comment">/*input tempc $ 1-200;*/</span></div><div class="line">    <span class="comment">/*put tempc=;*/</span></div><div class="line">    a=_infile_<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>creates text files with names as variable PRODUCT in table SASHELP.PRDSALE and inserts information about the current sales and year</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">%let <span class="keyword">dir=C:\GaoFangshu\SGH\SAS\;</span></div><div class="line">proc sql <span class="keyword">noprint;</span></div><div class="line">    select <span class="keyword">distinct </span>product into :pr1-:pr99999 from sashelp.PRDSALE<span class="comment">;</span></div><div class="line">quit<span class="comment">;</span></div><div class="line">%let n_pr=&amp;sqlobs<span class="comment">;</span></div><div class="line">%put &amp;n_pr***&amp;pr1***&amp;&amp;pr&amp;n_pr<span class="comment">;</span></div><div class="line">%macro all_reports<span class="comment">;</span></div><div class="line">    %do i=<span class="number">1</span> %to &amp;n_pr<span class="comment">;</span></div><div class="line">        %let product=&amp;&amp;pr&amp;i<span class="comment">;</span></div><div class="line">        <span class="comment">/*%let product=SOFA;*/</span></div><div class="line">        proc means data=SASHELP.PRDSALE <span class="keyword">noprint </span>nway<span class="comment">;</span></div><div class="line">            class year<span class="comment">;</span></div><div class="line">            var actual<span class="comment">;</span></div><div class="line">            output out=stat sum()=<span class="comment">;</span></div><div class="line">            where product=<span class="string">"&amp;product"</span><span class="comment">;</span></div><div class="line">        run<span class="comment">;</span></div><div class="line">        data _null_<span class="comment">;</span></div><div class="line">            file <span class="string">"&amp;dir.&amp;product..txt"</span> dsd dlm=<span class="string">'#'</span><span class="comment">;</span></div><div class="line">            set stat<span class="comment">;</span></div><div class="line">            put year actual<span class="comment">;</span></div><div class="line">        run<span class="comment">;</span></div><div class="line">    %end<span class="comment">;</span></div><div class="line">%mend<span class="comment">;</span></div><div class="line">%all_reports<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>creates a box plot for age by sex</p>
<p><em>Refer to <a href="https://support.sas.com/documentation/cdl/en/statug/63347/HTML/default/viewer.htm#boxplot_toc.htm" target="_blank" rel="external">The BOXPLOT Procedure</a></em></p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">proc sort data=sashelp.class out=sorted<span class="comment">;</span></div><div class="line">    <span class="keyword">by </span>sex<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">proc <span class="keyword">boxplot </span>data=sorted<span class="comment">;</span></div><div class="line">    plot age*sex<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>creates a scatter plot for age and weight</p>
<p><em>Refer to <a href="http://www.ats.ucla.edu/stat/sas/modules/graph.htm" target="_blank" rel="external">SAS Learning Module: Graphing data in SAS</a>,<br><a href="http://support.sas.com/documentation/cdl/en/procstat/66703/HTML/default/viewer.htm#procstat_corr_examples11.htm" target="_blank" rel="external">The CORR Procedure: Example 2.8 Creating Scatter Plots</a></em></p>
<blockquote>
<p>You must enable ODS graphics before requesting plots.</p>
</blockquote>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ods graphics <span class="keyword">on</span>;</div><div class="line">proc <span class="keyword">corr</span> data=sashelp.<span class="keyword">class</span> plots=<span class="keyword">scatter</span>(nvar=2);</div><div class="line">	<span class="keyword">var</span> age weight;</div><div class="line"><span class="keyword">run</span>;</div><div class="line">ods graphics off;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates robust means for age: e.g. trimmed or winsorized mean</p>
<p><em>Refer to <a href="http://support.sas.com/documentation/cdl/en/procstat/67528/HTML/default/viewer.htm#procstat_univariate_details22.htm" target="_blank" rel="external">The UNIVARIATE Procedure: Robust Estimators</a></em></p>
<blockquote>
<p>The ODS SELECT statement restricts the output to the “TrimmedMeans,” “WinsorizedMeans,” and “RobustScale” tables; see the section <a href="http://support.sas.com/documentation/cdl/en/procstat/67528/HTML/default/viewer.htm#procstat_univariate_details85.htm" target="_blank" rel="external">ODS Table Names</a>. The TRIMMED= option computes two trimmed means, the first after removing one observation and the second after removing 10% of the observations. If the value of TRIMMED= is greater than or equal to one, it is interpreted as the number of observations to be trimmed. The WINSORIZED= option computes a Winsorized mean that replaces three observations from the tails with the next closest observations.</p>
</blockquote>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ods select TrimmedMeans WinsorizedMeans;</div><div class="line"><span class="keyword">proc</span><span class="title"> univariate</span> data=sashelp.class<span class="title"> trimmed=1</span> .1<span class="title"> winsorized=.1;</span></div><div class="line"><span class="title">    var</span> age;<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a listing for LaTeX</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ods listing <span class="keyword">close</span>;</div><div class="line">ods latex <span class="keyword">file</span>=<span class="string">'C:\GaoFangshu\SGH\SAS\report_latex.txt'</span>;</div><div class="line"><span class="keyword">proc</span><span class="title"> print</span> data=sashelp.class;<span class="title"></span></div><div class="line">run;</div><div class="line">ods<span class="title"> latex</span> close;<span class="title"></span></div><div class="line">ods listing;</div></pre></td></tr></table></figure>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ods listing <span class="keyword">close</span>;</div><div class="line">ods pdf <span class="keyword">file</span>=<span class="string">'C:\GaoFangshu\SGH\SAS\report_latex.pdf'</span>;</div><div class="line"><span class="keyword">proc</span><span class="title"> print</span> data=sashelp.class;<span class="title"></span></div><div class="line">run;</div><div class="line">ods<span class="title"> pdf</span> close;<span class="title"></span></div><div class="line">ods listing;</div></pre></td></tr></table></figure>
</li>
<li><p>creates a table CONVERGENCE containing statistics of fit of age to normal distribution, using procedure UNIVARIATE</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ods <span class="keyword">trace</span> on / listing;</div><div class="line">ods <span class="keyword">trace</span> off;</div><div class="line">ods listing <span class="keyword">close</span>;</div><div class="line">ods output TestsForNormality=CONVERGENCE;</div><div class="line"><span class="keyword">proc</span><span class="title"> univariate</span> data=sashelp.class<span class="title"> normal;</span></div><div class="line"><span class="title">    var</span> age;<span class="title"></span></div><div class="line">run;</div><div class="line">ods<span class="title"> output</span> close;<span class="title"></span></div><div class="line">ods listing;</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Statistics-in-SAS"><a href="#Statistics-in-SAS" class="headerlink" title="Statistics in SAS:"></a>Statistics in SAS:</h2><ol>
<li><p>creates a histogram of the age variable containing the gaussian curve</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> univatiate</span> data=sashelp.class;<span class="title"></span></div><div class="line">    var age;<span class="title"></span></div><div class="line">    histogram age /<span class="title"> normal;</span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>creates the chi-square test for gender and age, treating both as a nominal variables, counts p-value</p>
<p><em>Refer to <a href="http://www.ats.ucla.edu/stat/sas/whatstat/whatstat.htm" target="_blank" rel="external">Statistical Test in SAS</a></em></p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> freq</span> data=sashelp.class;<span class="title"></span></div><div class="line">    table sex*age /<span class="title"> chisq;</span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates the V-Cramer statistic for age and sex</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> freq</span> data=sashelp.class;<span class="title"></span></div><div class="line">    table sex*age /<span class="title"> chisq;</span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates the Gini coefficient for sex and age</p>
<blockquote>
<p>The Somer’s D statistic given in the logistic output is the same as the Gini index.</p>
</blockquote>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> logistic</span> data=sashelp.class;<span class="title"></span></div><div class="line">    model sex=age;<span class="title"></span></div><div class="line">run;</div><div class="line"><span class="keyword">proc</span><span class="title"> freq</span> data=sashelp.class;<span class="title"></span></div><div class="line">    tables sex*age;<span class="title"></span></div><div class="line">    exact SMDCR;<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates the Spearman correlation coefficient for age and weight</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">proc <span class="keyword">corr</span> data=sashelp.<span class="keyword">class</span> pearson <span class="keyword">spearman</span>;</div><div class="line">    <span class="keyword">var</span> age weight;</div><div class="line"><span class="keyword">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates the Pearson correlation coefficient for age and weight</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">proc <span class="keyword">corr</span> data=sashelp.<span class="keyword">class</span> pearson <span class="keyword">spearman</span>;</div><div class="line">    <span class="keyword">var</span> age weight;</div><div class="line"><span class="keyword">run</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates the Kolmogorov-Smirnov statistic to test the fit of empirical age distribution to the theoretical normal distribution</p>
<p><em>Refer to <a href="http://support.sas.com/documentation/cdl/en/procstat/67528/HTML/default/viewer.htm#procstat_univariate_details52.htm" target="_blank" rel="external">The UNIVARIATE Procedure: Goodness-of-Fit Tests</a></em></p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> univariate</span> data=sashelp.class<span class="title"> normal;</span></div><div class="line"><span class="title">    var</span> age;<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates the Shapiro-Wilk statistic to test the fit of empirical age distribution to the theoretical normal distribution</p>
<p><em>Refer to <a href="http://support.sas.com/documentation/cdl/en/procstat/67528/HTML/default/viewer.htm#procstat_univariate_details52.htm" target="_blank" rel="external">The UNIVARIATE Procedure: Goodness-of-Fit Tests</a></em></p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> univariate</span> data=sashelp.class<span class="title"> normal;</span></div><div class="line"><span class="title">    var</span> age;<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates the partial Pearson correlation coefficient for age and weight excluding the influence of height</p>
<p><em>Refer to <a href="https://onlinecourses.science.psu.edu/stat482/book/export/html/7" target="_blank" rel="external">Correlation and Simple Regression</a>,<br><a href="http://www.ats.ucla.edu/stat/sas/code/partreg.htm" target="_blank" rel="external">Computing Partial Correlation Via Regression</a>,<br><a href="http://support.sas.com/documentation/cdl/en/procstat/67528/HTML/default/viewer.htm#procstat_corr_examples12.htm" target="_blank" rel="external">The CORR Procedure: Example 2.9 Computing Partial Correlations</a></em></p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> corr</span> data=sashelp.class;<span class="title"></span></div><div class="line">    var age<span class="title"> weight;</span></div><div class="line"><span class="title">	partial</span> height;<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates linear regression coefficients for age and weight</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">proc reg data=sashelp.class<span class="comment">;</span></div><div class="line">    model age=weight<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">quit<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>calculates determination coefficient of linear regression for age and weight</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">proc reg data=sashelp.class<span class="comment">;</span></div><div class="line">    model age=weight<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">quit<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>performs diagnostics of linear regression model for age and weight</p>
<p><em>Refer to <a href="http://www.ats.ucla.edu/stat/sas/webbooks/reg/chapter2/sasreg2.htm" target="_blank" rel="external">Regression Diagnostics</a></em></p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">proc reg data=sashelp.class<span class="comment">;</span></div><div class="line">model age=weight<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">quit<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>examines homoscedasticity in linear regression model for age and weight</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">proc reg data=sashelp.class<span class="comment">;</span></div><div class="line">    model age=weight<span class="comment">;</span></div><div class="line">    plot r. * p.<span class="comment">;</span></div><div class="line">run<span class="comment">;</span></div><div class="line">quit<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>examines normality of residuals in linear regression model for age and weight</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> reg</span> data=sashelp.class;<span class="title"></span></div><div class="line">    model age=weight /<span class="title"> spec;</span></div><div class="line"><span class="title">    output</span> out=rests<span class="title"> r=r;</span></div><div class="line">	/*<span class="title"></span></div><div class="line">    plot r. * (p.<span class="title"> age);</span></div><div class="line"><span class="title">    plot</span> student. *<span class="title"> obs.</span> /<span class="title"> vref=3</span> 2 -2 -3<span class="title"> vaxis=-4</span> to 4<span class="title"> by</span> 1;<span class="title"></span></div><div class="line">    plot nqq. *<span class="title"> student.;</span> /*rest<span class="title"> normality</span> test;*/</div><div class="line">	*/<span class="title"></span></div><div class="line">run;</div><div class="line">quit;<span class="title"></span></div><div class="line">proc univariate<span class="title"> data=rests</span> mu0=0<span class="title"> alpha=0.01</span> normal;<span class="title"></span></div><div class="line">    var r;<span class="title"></span></div><div class="line">    histogram r /<span class="title"> normal;</span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>performs stepwise variable selection in multiple linear regression model of age dependent on weight and height</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> reg</span> data=sashelp.class;<span class="title"></span></div><div class="line">    model age=weight<span class="title"> height</span> /<span class="title"> selection=stepwise;</span></div><div class="line">run;<span class="title"></span></div><div class="line">quit;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates collinearity measures in multiple linear regression model of age dependent on weight and height</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> reg</span> data=sashelp.class;<span class="title"></span></div><div class="line">    model age=weight<span class="title"> height</span> /<span class="title"> collin</span> vif;<span class="title"></span></div><div class="line">run;</div><div class="line">quit;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates coefficients of determination for all models of multiple linear regression of age dependent on weight and height</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> reg</span> data=sashelp.class;<span class="title"></span></div><div class="line">    model age =<span class="title"> weight</span> height;<span class="title"></span></div><div class="line">    model age =<span class="title"> weight;</span></div><div class="line"><span class="title">    model</span> age =<span class="title"> height;</span></div><div class="line">run;<span class="title"></span></div><div class="line">quit;</div></pre></td></tr></table></figure>
</li>
<li><p>determines outliers and/or influential observations in linear regression model of age and height</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">ods listing <span class="keyword">close</span>;</div><div class="line">ods output OutputStatistics.stat;</div><div class="line"><span class="keyword">proc</span><span class="title"> reg</span> data=sashelp.class<span class="title"> outest=e;</span></div><div class="line"><span class="title">    model</span> age=weight /<span class="title"> influence</span> vif<span class="title"> collinoint</span> r<span class="title"> cli</span> clm<span class="title"> p;</span></div><div class="line">run;<span class="title"></span></div><div class="line">quit;</div><div class="line">ods<span class="title"> output</span> close;<span class="title"></span></div><div class="line">ods listing;<span class="title"></span></div><div class="line">data untypical;<span class="title"></span></div><div class="line">    set stat;<span class="title"></span></div><div class="line">    if</div><div class="line"><span class="title">        abs(RStudent)&gt;3</span></div><div class="line"><span class="title">        or</span> HatDiagonal&gt;(2*&amp;p/&amp;n)<span class="title"></span></div><div class="line">        or CooksD &gt; (4/&amp;n)<span class="title"></span></div><div class="line">        or abs(DIFFITS) &gt; 2/sqrt(&amp;n)<span class="title"></span></div><div class="line">        or min(of<span class="title"> DFB:)</span> &lt; 2/sqrt(&amp;n)<span class="title"></span></div><div class="line">        or max(of<span class="title"> DFB:)</span> &lt; -2/sqrt(&amp;n)<span class="title"></span></div><div class="line">        or abs(CovRatio-1) &gt; 3*&amp;p/&amp;n</div><div class="line">        /*many<span class="title"> other</span> conditions*/</div><div class="line">        ;<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates the percent variance explained by principal components for the variables age, weight and height</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> princomp</span> data=sashelp.class;<span class="title"></span></div><div class="line">    var age<span class="title"> weight</span> height;<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
<li><p>calculates a forecast of age with weight equal to 80 in the linear regression model of age dependent on weight</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">data dataSet;</div><div class="line">    set sashelp.class <span class="attr">end=e;</span></div><div class="line">    output;</div><div class="line">    <span class="keyword">if</span> e <span class="keyword">then</span> do;</div><div class="line">        <span class="attr">age=.;</span> <span class="attr">weight=80;</span> output;</div><div class="line">    end;</div><div class="line">run;</div><div class="line">proc reg <span class="attr">data=dataSet;</span></div><div class="line">    model <span class="attr">age=weight;</span></div><div class="line">    output <span class="attr">out=regression</span> <span class="attr">p=pred</span> <span class="attr">r=reszty</span> <span class="attr">lcl=dol</span> <span class="attr">ucl=gora</span> <span class="attr">lclm=dolsr</span> <span class="attr">uclm=gorasr;</span></div><div class="line">run;</div><div class="line">quit;</div></pre></td></tr></table></figure>
</li>
<li><p>determines clusters (concentration) variables (PROC VARCLUS) for all numeric variables in table SASHELP.CARS and the explained variance (ratio) of 80%</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">proc</span><span class="title"> varclus</span> data=sashelp.cars<span class="title"> proportion=0.6;</span></div><div class="line"><span class="title">    var</span> _numeric_;<span class="title"></span></div><div class="line">run;</div></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://gaofangshu.com/blog/blog/2016/12/18/Learning-SAS-by-examples/" data-id="cj4sllwbd000c6wvg0hgo6ojc" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/SAS/">SAS</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2017/02/01/IMDb-Searching-Engine/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          IMDb Searching Engine
        
      </div>
    </a>
  
  
    <a href="/blog/2016/10/31/Modify-my-blog-2-Add-a-tag-page/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Modify my Blog (2): Add a Tag Page</div>
    </a>
  
</nav>

  
</article>

</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      Powered by <a href="http://hexo.io" target="_blank" title="Hexo">Hexo</a><br>
      ♡ <a href="http://xushuangblog.com/" target="_blank" title="Xu Shuang">Xu Shuang</a><br>
      &copy; 2016-2017 <a href="http://gaofangshu.com/blog/about/" target="_blank" title="Gao Fangshu">Gao Fangshu</a>
      <br>
    </div>
  </div>
</footer>
    </div>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>

<script type="text/x-mathjax-config"> 
MathJax.Hub.Config({ 
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]} 
}); 
</script>
<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  // ################### ADDED ON 2017.04.12 BY GAOFANGSHU ###################
  MathJax.Hub.Config({
    CommonHTML: {matchFontHeight: false},
    "HTML-CSS": {matchFontHeight: false},
    SVG: {matchFontHeight: false}
  // #########################################################################
  });
</script>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

  </div><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>